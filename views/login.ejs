<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>
        WooHyun's First Proj
    </title>
    <link href="/style/common.css" rel="stylesheet" type="text/css" />
    <link href="/style/login.css" rel="stylesheet" type="text/css" />
    <!-- favicon -->
    <link rel="icon" href="img/favicon.png">
    <link rel="instagram-icon" href="img/favicon.png">

    <script type="text/javascript"> // reCapCha
        var onloadCallback = () => {
            grecaptcha.render("html_element", {
                "sitekey": "your_site_key"
            });
        };
    </script>
    <style>
        .title {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-size: 30px;
            text-align: center;
        }

        a {
            align-self: center;
        }


        body {
            background-color: #fafafa;
        }


        .container {
            width: 350px;
            height: 460px;
            margin: 100px auto;
            display: flex;
            flex-direction: column;
            align-content: center;
            flex-wrap: wrap;
            background-color: #d9d9d9;
            border: 1px solid #dbd9DB;
        }

        .input_login {
            width: 270px;
            height: 40px;
            margin: 3px auto;
            padding: 0 10px;
            display: block;
            background-color: #fafafa;
            border: 1px solid #DBDBDB;
            border-radius: 3px;
            font-size: 14px;
        }

        .input_login::placeholder {
            font-size: 12px;
            color: #8e8e8e;
        }

        .input_login:focus {
            border: 1px solid #8a8a8a;
            outline: none;
        }

        #btn_login {
            width: 268px;
            height: 30px;
            margin: 13px auto;
            align-self: center;
            background-color: #0095f6;
            border: none;
            border-radius: 3px;
            color: white;
            font-size: 14px;
            font-weight: 600;
        }

        #btn_login:disabled {
            background-color: #B9DFFC;
        }

        #btn_login:disabled:hover {
            cursor: default;
        }

        #btn_login:enabled:hover {
            cursor: pointer;
        }

        #btn_login:focus {
            outline: none;
        }

        a {
            cursor: default;
        }

        .newarray {
            align-self: center;
            margin-top: 70px;
        }

        .button_new {
            color: #00366B;
            align-self: center;
            font-size: 12px;
        }

        .button_new:hover {
            cursor: pointer;
        }

        .button_forgot {
            color: #00366B;
            align-self: center;
            font-size: 12px;
            margin-top: 70px;
        }

        .button_forgot:hover {
            cursor: pointer;
        }
    </style>

</head>

<body>
    <div class="container">
        <p class="title"> HYUNSTAGRAM </p>
        <input type="text" class="input_login" name="userID" id="userID" placeholder="학번 혹은 이름">
        <input type="password" class="input_login" name="userPW" id="userPW" placeholder="비밀번호">
        <a href="#none"><button id="btn_login" disabled>Login</button></a>

        <form action="?" method="GET">
            <div id="html_element"></div>
            <br>
            <!-- <input type="submit" value="Submit" style="align-self: center;"> -->
        </form>
        <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer>
        </script>

        <div class="newarray" style="display: inline;">

            <span class="button_forgot" style="display: inline;">forgot PassWord? / </span>

            <span class="button_new" style="display: inline;"> Be our Friend!</span>

        </div>
    </div>

    <script>
        var idInput = document.getElementById('userID');
        var pwInput = document.getElementById('userPW');
        var loginBtn = document.getElementById('btn_login');
        var linkToMain = document.getElementsByTagName('a')[0];

        idInput.addEventListener('keyup', function (event) {
            if (idInput.value && pwInput.value) {
                loginBtn.disabled = false;
                linkToMain.href = "/index";
            }
            else {
                loginBtn.disabled = true;
                linkToMain.href = "#none";
            }
        })

        pwInput.addEventListener('keyup', function (event) {
            if (idInput.value && pwInput.value) {
                loginBtn.disabled = false;
                linkToMain.href = "/index";
            }
            else {
                loginBtn.disabled = true;
                linkToMain.href = "#none";
            }
        })

        document.addEventListener('keyup', function (event) {
            if (event.keyCode === 13) {
                document.getElementById("btn_login").click();
            }
        })
    </script>

    <script src="/routes/login.js"></script>
</body>

</html>